<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Orders - PC Store</title>

    <!-- CSS Files -->
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/order_table.css}">
</head>
<body>
<div th:replace="navbar :: navbar"></div>
<div class="table-container">
    <h1>ðŸ“‹ Manage Orders</h1>

    <div style="text-align: center; margin-bottom: var(--spacing-xl);">
        <p style="color: var(--text-gray); font-size: var(--font-size-lg);">
            Staff dashboard for managing customer orders
        </p>
    </div>

<table>
  <thead>
  <tr>
    <th>Order ID</th>
    <th>Product</th>
    <th>Quantity</th>
    <th>Status</th>
    <th>Expected Delivery</th>
    <th>Order Time</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="order : ${orders}">
      <strong style="color: var(--primary-orange);" th:text="${order.id}">#001</strong>
    <td th:text="${order.product.name}"></td>
    <td th:text="${order.orderTime}"></td>
    <td th:text="${order.expectedDeliveryTime}"></td>
      <td>
        <span style="background: var(--light-gray); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--radius-sm); font-weight: 600;"
              th:text="${order.quantity}">1</span>
      </td>
      <td>
        <span th:text="${order.isOpen} ? 'Pending' : 'Delivered'"
              th:classappend="${order.isOpen} ? 'status-pending' : 'status-delivered'">
            Status
        </span>
        </td>

  </tr>
  </tbody>
</table>

<!-- Empty state if no orders -->
<div th:if="${#lists.isEmpty(orders)}" class="empty-table">
    <div class="empty-table-icon">ðŸ“‹</div>
    <h3>No Orders Found</h3>
    <p>There are currently no orders to manage.</p>
</div>
</div>

</body>
<script>

    document.addEventListener('DOMContentLoaded', () => {
        const toggleButton = document.querySelector('.dropdown-toggle');
        const dropdown = document.getElementById('componentsDropdown');

        toggleButton.addEventListener('click', () => {
            const isVisible = dropdown.style.display === 'block';
            dropdown.style.display = isVisible ? 'none' : 'block';
        });

        window.addEventListener('click', (event) => {
            if (!toggleButton.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });
    });

</script>
</html>